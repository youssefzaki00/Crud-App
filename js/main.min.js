let menu=document.querySelector(".tags"),X=document.querySelector("header .first span"),cart=document.querySelector(".cart"),cartImg=document.querySelector(".cart > img"),content=document.querySelector(".cart .content"),main_img=document.querySelector(".main-img"),img=document.querySelectorAll(".product .imgs .holder"),imgs=Array.from(img),product=document.querySelector(".product"),container=document.querySelector(".container"),app=document.querySelector(".app");function buttons(main_img2,product2){let after=document.createElement("span");after.classList.add("after"),after.innerHTML='<i class="fa-solid fa-angle-right"></i>';let before=document.createElement("span");before.classList.add("before"),before.innerHTML='<i class="fa-solid fa-angle-left"></i>',main_img2.appendChild(after),main_img2.appendChild(before);let close_box=document.createElement("span");close_box.classList.add("close"),close_box.innerHTML='<i class="fa-solid fa-xmark"></i>',main_img2.appendChild(close_box),close_box.addEventListener("click",(function(){app.removeChild(product2),app.classList.remove("disabled")})),navBar(after,before,main_img2)}function imagesHolder(main_img2){let main_holder=document.createElement("div");main_holder.classList.add("main-holder");let main_arr=[];for(let i=1;i<=imgs.length;i++){let main_imgs=document.createElement("img");main_imgs.setAttribute("src",`imgs/image-product-${i}.jpg`),main_imgs.setAttribute("data-id",`${i-1}`),1===i&&main_imgs.classList.add("active"),main_holder.appendChild(main_imgs),main_arr.push(main_imgs)}main_img2.appendChild(main_holder)}function navBar(after,before,main_img2){let imagesArr=Array.from(main_img2.firstChild.children),slideIndex=1;check(imagesArr,after,before,slideIndex,main_img2),after.addEventListener("click",(function(){removeActive(main_img2),slideIndex+=1,check(imagesArr,after,before,slideIndex,main_img2)})),before.addEventListener("click",(function(){removeActive(main_img2),slideIndex-=1,check(imagesArr,after,before,slideIndex,main_img2)}))}function removeActive(main_img2){let arr;Array.from(main_img2.firstChild.children).forEach(e=>{e.classList.remove("active")})}function check(imagesArr,after,before,slideIndex,main_img2){removeActive(main_img2),imagesArr[slideIndex-1].classList.add("active"),1==slideIndex?before.classList.add("disable"):before.classList.remove("disable"),4==slideIndex?after.classList.add("disable"):after.classList.remove("disable")}menu.addEventListener("click",(function(){menu.classList.add("active"),X.classList.add("close")})),X.addEventListener("click",(function(){menu.classList.contains("active")&&(menu.classList.remove("active"),X.classList.remove("close"))})),cartImg.addEventListener("click",(function(){cart.classList.toggle("open")})),main_img.innerHTML=imgs[0].innerHTML,imgs.forEach(image=>{image.addEventListener("click",e=>{imgs.forEach(ele=>{ele.classList.remove("active")}),e.currentTarget.classList.add("active"),main_img.innerHTML=e.currentTarget.innerHTML})}),main_img.addEventListener("click",(function lightBox(){app.classList.add("disabled");let product2=document.createElement("div");product2.classList.add("product","light-box");let main_img2=document.createElement("div");main_img2.classList.add("main-img"),imagesHolder(main_img2),product2.appendChild(main_img2);let imgs2=document.createElement("div");imgs2.classList.add("imgs","d-flex","align-items-center"),product2.appendChild(imgs2);let imgs2Array=[];for(let i=1;i<=imgs.length;i++){let holders2=document.createElement("div");1===i?holders2.classList.add("holder","active"):holders2.classList.add("holder"),holders2.innerHTML=`<img src="imgs/image-product-${i}.jpg" alt="">`,imgs2.appendChild(holders2),imgs2Array.push(holders2)}buttons(main_img2,product2),imgs2Array.forEach((image,main_imgs)=>{image.addEventListener("click",e=>{imgs2Array.forEach(ele=>{ele.classList.remove("active")});for(let i=0;i<main_imgs+1;i++)removeActive(main_img2),main_img2.firstChild.children[i].classList.add("active");e.currentTarget.classList.add("active")})}),app.appendChild(product2)}));let minus=document.querySelector(".amount .minus"),plus=document.querySelector(".amount .plus"),number=document.querySelector(".amount .number"),add=document.querySelector(".buying .add"),count=document.querySelector(".cart .count");count.innerHTML=0;let save=0;0==number.innerHTML?minus.classList.add("disabled"):minus.classList.remove("disabled"),plus.addEventListener("click",(function(){save+=1,number.innerHTML=save,0==number.innerHTML?minus.classList.add("disabled"):minus.classList.remove("disabled")})),minus.addEventListener("click",(function(){save-=1,number.innerHTML=save,0==number.innerHTML?minus.classList.add("disabled"):minus.classList.remove("disabled")}));let saving=[];function saveData(){let num=number.innerHTML;0!=num&&(saving.push(num),localStorage.setItem("data",JSON.stringify(saving))),save=0,num=0,number.innerHTML=0,0==number.innerHTML?minus.classList.add("disabled"):minus.classList.remove("disabled")}function sneaker(){let sneakers=document.createElement("div");sneakers.classList.add("sneaker");let sneaker_img=document.createElement("img");sneaker_img.setAttribute("src","imgs/image-product-1-thumbnail.jpg");let s_price=document.createElement("div");s_price.classList.add("s-price");let s_priceP=document.createElement("p");s_priceP.innerHTML="Fall Limited Edition Sneakers";let price=document.createElement("div");price.classList.add("price"),price.textContent=" $125.00 x ";let priceAmount=document.createElement("div");priceAmount.classList.add("amount");let priceTotal=document.createElement("div");priceTotal.classList.add("total");for(let i=0;i<saving.length;i++)priceAmount.innerHTML=`${saving[i]}`,priceTotal.innerHTML=`$${125*saving[i]}`;let priceDelete=document.createElement("div");priceDelete.classList.add("delete"),priceDelete.innerHTML='<img src="imgs/icon-delete.svg" alt="">',content.appendChild(sneakers),sneakers.appendChild(sneaker_img),sneakers.appendChild(s_price),s_price.appendChild(s_priceP),s_price.appendChild(price),price.appendChild(priceAmount),price.appendChild(priceTotal),price.appendChild(priceDelete),priceDelete.addEventListener("click",(function(){sneakers.remove()}))}localStorage.getItem("data")&&(saving=JSON.parse(localStorage.getItem("data"))),add.addEventListener("click",saveData),add.addEventListener("click",getData);let counting=0;function getData(){document.querySelector(".content .checkout")&&document.querySelector(".content .checkout").remove(),counting+=1,count.innerHTML=counting;let data=localStorage.getItem("data",saving);if(data){let nums=JSON.parse(data);saveData(saving),sneaker(data),checkOut(),empty.remove()}}function checkOut(){let check=document.createElement("div");check.classList.add("checkout"),check.innerHTML="Checkout",content.appendChild(check)}let empty=document.createElement("div");empty.classList.add("message-empty"),empty.innerHTML="Your Cart is empty",0==count.innerHTML&&(document.querySelector(".content .checkout")&&document.querySelector(".content .checkout").remove(),content.appendChild(empty));